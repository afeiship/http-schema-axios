/*!
 * name: @jswork/next-fetch
 * description: Abstract for browser or node.
 * homepage: https://github.com/afeiship/next-fetch
 * version: 1.0.0
 * date: 2020-11-20 23:49:33
 * license: MIT
 */
!function(){var e=this||window||Function("return this")(),a=e.nx||require("@jswork/next"),u=a.DataTransform||require("@jswork/next-data-transform"),t=a.AbstractRequest||require("@jswork/next-abstract-request"),i=a.contentType||require("@jswork/next-content-type"),p=a.deepAssign||require("@jswork/next-deep-assign"),d=a.param||require("@jswork/next-param"),c=a.toAction||require("@jswork/next-to-action"),r={dataType:"json",fetch:e.fetch,responseType:"json"},t=a.declare("nx.Fetch",{extends:t,methods:{defaults:function(){return r},request:function(e,t,r,n){var o=a.mix(null,this.options,n),s="get"===e,n=s?null:u[o.dataType](r),r=s?d(r,t):t,t={"Content-Type":i(o.dataType)},n=p({method:e,body:n,headers:t},o),t=o.responseType?c(o.responseType):a.stubValue;return o.fetch(r,n).then(t)}}});"undefined"!=typeof module&&module.exports&&(module.exports=t)}();